<div class="mode-configuration">
    <div class="header">
        <h2>‚öôÔ∏è Mode Configuration</h2>
        <div class="month-selector">
            <label>‡πÄ‡∏î‡∏∑‡∏≠‡∏ô:</label>
            <select [(ngModel)]="currentMonthYear" (ngModelChange)="onMonthChange()">
                <option *ngFor="let month of getMonthOptions()" [value]="month">
                    {{ formatMonthYear(month) }}
                </option>
            </select>
        </div>
    </div>

    <div class="info-box">
        <p>
            <strong>üí° ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ:</strong> ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Workflow ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏Å‡∏° ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÉ‡∏ä‡πâ workflow ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏ô‡∏±‡πâ‡∏ô‡πÜ
        </p>
    </div>

    <!-- Loading State -->
    <div class="loading" *ngIf="isLoading()">
        <div class="spinner"></div>
        <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
    </div>

    <!-- Mode Cards -->
    <div class="mode-cards" *ngIf="!isLoading()">
        <div class="mode-card" *ngFor="let mode of modes">
            <div class="mode-header">
                <span class="mode-icon">{{ mode.icon }}</span>
                <div class="mode-info">
                    <h3>{{ mode.label }}</h3>
                    <p class="mode-description">{{ mode.description }}</p>
                </div>
            </div>

            <div class="workflow-selector">
                <label>Workflow:</label>
                <select [ngModel]="mode.workflow_id" (ngModelChange)="assignWorkflowToMode(mode, $event)">
                    <option [ngValue]="undefined">-- ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î --</option>
                    <option *ngFor="let workflow of workflows()" [ngValue]="workflow.id">
                        {{ workflow.name }}
                        <span *ngIf="workflow.is_master"> ‚≠ê</span>
                    </option>
                </select>
            </div>

            <div class="workflow-preview" *ngIf="mode.workflow_id">
                <div class="preview-badge">
                    <span class="workflow-name">{{ mode.workflow_name }}</span>
                    <span class="step-count">{{ getStepsSummary(getWorkflowById(mode.workflow_id)) }}</span>
                </div>
            </div>

            <div class="no-workflow" *ngIf="!mode.workflow_id">
                <p>‚ö†Ô∏è ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î Workflow</p>
            </div>
        </div>
    </div>
</div>